#!/bin/csh
#
# File: $ECMWFHOME/use/use.newmagics
#
# Purpose: Set the environment for the test version of MAGICS
#
# Authors: Ditlef Martens
#          Jean-Philippe Martin-Flatin
#          Petra Kogel
#
# $Revision: 1.1 $    $Date: 1998/08/19 10:09:15 $
#
################################################################################

#
# Check if newmagics is not already selected
#
if ($?envSelected == 0) setenv envSelected ""
foreach Keyword ($envSelected)
	if ($Keyword == "newmagics") exit
end

#
# Set MAGLIB
#
if (-f /usr/local/SGKS/lib/libfgks.so.1.0 || -f /usr/local/SGKS/lib/libfgks.so.1) then
    echo "Use newmagics is no longer available on the Suns."
    echo "Please contact the Graphics Group for information."
    exit 1
else
   setenv ARCH `arch`
   switch ($ARCH)
      case hppa: 
          setenv MAGLIB "-L/usr/local/lib,-lmag.new,-lfgks,-ldgks,-lcgks" 
          breaksw
      default:
          setenv MAGLIB "-L/usr/local/lib32 -lmagGL.new -lMvDevices.new -lftn -lfortran -lm"
          breaksw
   endsw
endif

#
# Mark environment newmagics as read
#
setenv envSelected "newmagics $envSelected"
