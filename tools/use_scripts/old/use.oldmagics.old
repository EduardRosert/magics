#!/bin/csh
#
# File: $ECMWFHOME/use/use.oldmagics
#
# Purpose: Set the environment for the old version of MAGICS
#
# $Revision: 1.2 $    $Date: 2002/11/29 09:39:41 $
#
################################################################################

set version=old

#
# Check if oldmagics is not already selected
#
#if ($?envSelected == 0) setenv envSelected ""
#foreach Keyword ($envSelected)
#	if ($Keyword == "oldmagics") exit
#end

setenv MAG_HOME /usr/local/apps/Magics/${version}
set maglib=/usr/local/apps/Magics/${version}/lib

#
# Set MAGLIB
#
switch ($ARCH)

	case linux:
		setenv MAGLIB "-L/usr/local/apps/Magics/old/lib -lmagGL -lMvDevices -L/usr/local/apps/gnu/lib -lstdc++ -lm"
		setenv LD_LIBRARY_PATH "/usr/local/apps/gnu/lib:/usr/local/apps/Magics/old/lib:/usr/lib"
		echo \$MAGLIB changed to $MAGLIB
		echo \$LD_LIBRARY_PATH changed to $LD_LIBRARY_PATH
		breaksw

	case hppa: 
		echo "Not supported on this platform"
		breaksw

	case sgimips:
		setenv MAGLIB "-L${maglib} -lmagGL -lMvDevices -lftn -lfortran -lm"
		setenv LD_LIBRARYN32_PATH ${maglib}:/usr/local/lib32:/lib32:/usr/lib32
		breaksw

	case rs6000:
		setenv MAGLIB "-L${maglib} -lmagics -lMvDevices -lgd -lpng -ljpeg -lz -lfreetype -lxlf90 -lGLw -lGLU  -lGL"
		breaksw
	endsw
endif

#
# Mark environment oldmagics as read
#
setenv envSelected "oldmagics $envSelected"

echo "*****************************************************************"
echo "* 'use oldmagics' now refers to User Version 6.6."
echo "*"
echo "* To use the new Magics User Version 6.7 "
echo "* please remove the statement 'use oldmagics'"
echo "*"
echo "* Thank You" 
echo "*"
echo "* Graphics Section"
echo "*****************************************************************" 

